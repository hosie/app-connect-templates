$integration: 'http://ibm.com/appconnect/integration/v2/integrationFile'
integration:
  type: trigger-action
  trigger-interfaces:
    trigger-interface-1:
      type: event-trigger
      triggers:
        CREATED:
          input-context:
            data: worksheetRow
          assembly:
            $ref: '#/integration/assemblies/assembly-1'
          options:
            spreadsheetID: 1RdI7Wa2blNj34yLJfSduLUbyS5UBb_pt9Dl4gRoB7Zc
            worksheetID: Sheet1
            parentFilter:
              spreadsheetID: 1RdI7Wa2blNj34yLJfSduLUbyS5UBb_pt9Dl4gRoB7Zc
              worksheetID: Sheet1
      connector-type: googlesheet
  action-interfaces:
    action-interface-1:
      type: api-action
      business-object: contacts
      connector-type: salesforcepardot
      actions:
        CREATE: {}
  assemblies:
    assembly-1:
      assembly:
        execute:
          - create-action:
              name: Salesforce Pardot Create prospect
              target:
                $ref: '#/integration/action-interfaces/action-interface-1'
              map:
                mappings:
                  - email:
                      template: '{{$Trigger.fields."3"}}'
                  - first_name:
                      template: '{{$Trigger.fields."1"}}'
                  - last_name:
                      template: '{{$Trigger.fields."2"}}'
                $map: 'http://ibm.com/appconnect/map/v1'
                input:
                  - variable: Trigger
                    $ref: '#/trigger/payload'
  name: GoogleSheetRowNewPardotProspect
  description: >-
    Use this template to create new prospect in Salesforce Pardot when a new row
    is appended in Google Sheets.
  todo: >
    To refer to these instructions while editing the flow, open [the github
    page](https://github.com/ot4i/app-connect-templates/blob/master/resources/markdown/Create%20a%20Pardot%20prospect%20when%20a%20row%20is%20appended%20in%20Google%20Sheets_instructions.md)
    (opens in a new window).


    1. Before you use this template, make sure that you have a Google Sheets
    spreadsheet containing a sheet with the following header columns:
        * First name
        * Last name
        * Email
    1. Click **Create flow** to start using the template.

    1. Connect to your [Google Sheets account](http://ibm.biz/acgsheets).

    1. Click the **Google Sheets** node and select the spreadsheet and worksheet
    you want to use.

    1. Connect to your Salesforce Pardot account.  

    1. Click the **Salesforce Pardot** node and check the mappings for First
    name, Last name and Email to make sure they match your spreadsheet.

    1. To start the flow, in the banner open the options menu [&#8942;] then
    click **Start flow**.
models: {}
